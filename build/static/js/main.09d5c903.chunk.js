(this["webpackJsonpahfeed-front"]=this["webpackJsonpahfeed-front"]||[]).push([[0],{47:function(e,t,a){},67:function(e,t,a){},69:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(17),r=a.n(s),i=(a(46),a(47),a(18)),l=a(5),o=a(8),j=a.n(o),u=a(14),d=a(6),b=a(37),h=a.n(b).a.create({baseURL:"http://localhost:4000",headers:{"Content-type":"application/json",Authorization:localStorage.getItem("token")?"Bearer "+localStorage.getItem("token"):null}}),m=(a(67),a(1)),O=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),r=Object(d.a)(s,2),i=r[0],o=r[1],b=Object(l.f)();function O(){return(O=Object(u.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,h.post("/login",{email:a,password:i});case 4:n=e.sent,localStorage.setItem("token",n.data.token),b("/schedules"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),alert("Falha no login, tente novamente");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return Object(m.jsx)("div",{className:"container text-center",children:Object(m.jsxs)("form",{className:"form-signin",onSubmit:function(e){return O.apply(this,arguments)},children:[Object(m.jsx)("h2",{children:"Ahfeed"}),Object(m.jsx)("h4",{children:"Cerim\xf4nias inteligentes"}),Object(m.jsx)("label",{htmlFor:"inputEmail",className:"sr-only",children:"Email"}),Object(m.jsx)("input",{type:"email",id:"inputEmail",className:"form-control my-2",placeholder:"Email",required:!0,autoFocus:!0,value:a,onChange:function(e){return c(e.target.value)}}),Object(m.jsx)("label",{htmlFor:"inputPassword",className:"sr-only",children:"Senha"}),Object(m.jsx)("input",{type:"password",id:"inputPassword",className:"form-control",placeholder:"Senha",required:!0,value:i,onChange:function(e){return o(e.target.value)}}),Object(m.jsx)("div",{className:"checkbox mb-3"}),Object(m.jsx)("button",{className:"btn btn-lg btn-primary btn-block",type:"submit",children:"Entrar"}),Object(m.jsx)("p",{className:"mt-5 mb-3 text-muted",children:"\xa9 Ahfeed-2021"})]})})},x=a(25),p=a(41),f=a(16),v=a(13),g=(a(69),function(){Object(l.g)().id;var e=Object(n.useState)((new Date).toISOString().split(".")[0]),t=Object(d.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),r=Object(d.a)(s,2),i=r[0],o=r[1],b=Object(n.useState)(),O=Object(d.a)(b,2),g=O[0],N=O[1],k=Object(n.useState)([]),S=Object(d.a)(k,2),y=S[0],C=S[1],w=Object(n.useState)(),F=Object(d.a)(w,2),E=F[0],A=F[1],I=Object(n.useState)([]),L=Object(d.a)(I,2),D=L[0],T=L[1],P=Object(n.useState)([]),_=Object(d.a)(P,2),z=_[0],B=_[1],M=Object(n.useState)(""),R=Object(d.a)(M,2),G=R[0],q=R[1],J=Object(n.useState)(!1),H=Object(d.a)(J,2),U=H[0],V=H[1],Y=Object(n.useState)(""),K=Object(d.a)(Y,2),Q=K[0],W=K[1],X=Object(n.useCallback)(Object(u.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.get("/users");case 3:t=e.sent,a=t.data.users,C(a),A(a[0]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[C]),Z=Object(n.useCallback)(Object(u.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.get("/topics");case 3:t=e.sent,T(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[T]);Object(n.useEffect)((function(){X()}),[X]),Object(n.useEffect)((function(){Z()}),[Z]);var $=function(){var e=Object(u.a)(j.a.mark((function e(){var t,n,c,s,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a&&g&&E&&z.length>0&&i,V(!t),t){e.next=6;break}return n=a?g?E?z&&0!==z.length?i&&0!==i.length?"":"Escreva a mensagem":"Selecione ao menos um t\xf3pico.":"Selecione um colaborador.":"Selecione uma op\xe7\xe3o (One on One / Feedback).":"A data \xe9 obrigat\xf3ria.",W(n),e.abrupt("return");case 6:return c=a.split("T")[1],s={type_schedule:g,date:a.split("T")[0],hour:c[0]+":"+c[1],state:"pending",topics:z,description:i,link:G,person:E._id},e.prev=8,V(!1),e.next=12,h.post("/schedules",s);case 12:(r=e.sent).data.message&&(W(r.data.message),V(!0)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(8),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[8,16]])})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"container card mt-3",children:[Object(m.jsx)("h2",{className:"mt-3 text-center",children:"Ahfeed"}),Object(m.jsx)("h4",{className:"text-center",children:"Cerim\xf4nias inteligentes"}),Object(m.jsx)("div",{className:"col mb-3 mt-3",children:Object(m.jsx)("input",{type:"datetime-local",id:"datetime",value:a,onChange:function(e){return c(e.target.value)}})}),Object(m.jsxs)("div",{className:"col mb-3",children:[Object(m.jsx)("input",{className:"me-2",type:"radio",id:"oneOnOne",name:"option",value:"oneOnOne",onChange:function(e){return N(e.target.value)}}),Object(m.jsx)("label",{className:"me-4",htmlFor:"oneByOne",children:"One on One"}),Object(m.jsx)("input",{className:"me-2",type:"radio",id:"feedback",name:"option",value:"feedback",onChange:function(e){return N(e.target.value)}}),Object(m.jsx)("label",{htmlFor:"feedback",children:"Feedback"})]}),y&&Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:"Funcion\xe1rio"}),Object(m.jsx)(v.a.Control,{as:"select",onChange:function(e){return A(e.target.value)},children:y.map((function(e){return Object(m.jsx)("option",{value:e._id,children:e.name},e._id)}))})]}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("p",{children:"Topicos"}),D&&D.map((function(e){return Object(m.jsxs)("span",{children:[Object(m.jsx)("input",{className:"me-2",type:"checkbox",id:e.id,name:e.id,value:e.text,onChange:function(e){return function(e){var t=e.target.checked,a=e.target.value;if(t)B((function(e){return[].concat(Object(x.a)(e),[a])}));else if(z.length>0){var n=Object(x.a)(z),c=n.indexOf(a);n.splice(c,1),B(Object(x.a)(n))}}(e)}}),Object(m.jsx)("label",{className:"me-4",htmlFor:e.id,children:e.text})]},e.id)}))]}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)(v.a.Label,{children:"Link da Reuni\xe3o"}),Object(m.jsx)(v.a.Control,{type:"text",onChange:function(e){return q(e.target.value.trim())}})]}),Object(m.jsx)("div",{className:"mb-3",children:Object(m.jsxs)(v.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(m.jsx)(v.a.Label,{children:"Mensagem"}),Object(m.jsx)(v.a.Control,{as:"textarea",rows:3,onChange:function(e){return o(e.target.value.replace(/\s{2,}/g,""))}})]})}),U&&Object(m.jsx)(p.a,{className:"mt-3",variant:"danger",children:Q},"alertScheduling"),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)(f.a,{size:"sm",variant:"outline-primary",className:"me-1",onClick:$,children:"Agendar"}),Object(m.jsx)(f.a,{size:"sm",variant:"outline-danger",className:"me-1",children:"Cancelar"})]})]})}),N=(a(73),function(){return Object(m.jsx)("div",{class:"fixed-bottom mt-3 ml-3",children:Object(m.jsx)("div",{className:"bg-white d-flex flex-row-reverse p-5 pt-2 pb-2",children:Object(m.jsx)("div",{className:"mb-1",children:Object(m.jsx)("a",{href:"/scheduling",class:"btn btn-success m-1 mt-1",children:"Novo"})})})})}),k=(a(74),function(e){var t=new Date(e),a=t.getDate().toString(),n=1==a.length?"0"+a:a,c=(t.getMonth()+1).toString();return n+"/"+(1==c.length?"0"+c:c)+"/"+t.getFullYear()}),S=function(e){var t=e.state?e.state:"default";return Object(m.jsx)("div",{class:"card card-default ".concat(t),children:Object(m.jsxs)("div",{class:"card-body",children:[Object(m.jsx)("h5",{class:"card-text",children:k(e.date)+" "+e.hour}),Object(m.jsx)("p",{class:"card-title",children:e.type}),Object(m.jsx)("a",{href:"/scheduling/"+e.person,class:"btn btn-primary",children:"Ver Mais >"})]})})},y=function(e){return Object(m.jsxs)("div",{className:"container card mt-3",children:[Object(m.jsx)("h2",{className:"mt-3 text-center",children:"Ahfeed"}),Object(m.jsx)("h4",{className:"text-center",children:"Cerim\xf4nias inteligentes"}),Object(m.jsx)("div",{class:"row row-cols-1 row-cols-md-3",children:e.schedules?e.schedules.map((function(e){return Object(m.jsx)("div",{class:"col mb-4",children:Object(m.jsx)(S,{person:e.user,date:e.date,hour:e.hour,state:e.state,type:e.type_schedule})})})):Object(m.jsx)("span",{children:"Nenhum Registro encontrado!"})})]})},C=function(){var e=Object(n.useState)(),t=Object(d.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([{id:1,text:"Performance"},{id:2,text:"FeedBack (L\xedder < -- > Liderado)"},{id:3,text:"Desenvolvimento"},{id:4,text:"Evolu\xe7\xe3o Profissional"},{id:5,text:"Clima e Relacionamento"},{id:6,text:"Pessoal"}]),r=(Object(d.a)(s,1)[0],Object(n.useState)()),i=Object(d.a)(r,2),l=(i[0],i[1],Object(n.useCallback)(Object(u.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.get("/schedules");case 3:t=e.sent,a=t.data.schedules,c(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[c]));return Object(n.useEffect)((function(){l()}),[l]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(y,{schedules:a}),Object(m.jsx)(N,{})]})},w=a(39),F=a(40),E=(a(75),function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(),r=Object(d.a)(s,2),i=r[0],o=r[1],b=Object(l.f)(),h=function(){var e=Object(u.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert("message: "+a+" radio: "+i),{state:"finished",message:a};try{b("/schedules")}catch(t){console.log(t)}case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"container card mt-3",children:[Object(m.jsx)("h2",{className:"mt-3 text-center",children:"Ahfeed"}),Object(m.jsx)("h4",{className:"text-center",children:"Cerim\xf4nias inteligentes"}),Object(m.jsx)("div",{className:"mb-3",children:Object(m.jsxs)(v.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(m.jsx)(v.a.Label,{children:"Deixe uma mensagem sobre essa cerim\xf4nia"}),Object(m.jsx)(v.a.Control,{as:"textarea",rows:3,onChange:function(e){return c(e.target.value.replace(/\s{2,}/g,""))}})]})}),Object(m.jsx)("div",{className:"mb-3",children:Object(m.jsx)(w.a,{children:[{name:"like"},{name:"dislike"}].map((function(e,t){return Object(m.jsx)(F.a,{id:"radio-".concat(t),type:"radio",variant:t%2?"outline-danger":"outline-success",name:"radio",value:e.name,checked:i===e.name,onChange:function(e){return o(e.currentTarget.value)},children:e.name},t)}))})}),Object(m.jsx)("div",{className:"mb-3",children:Object(m.jsx)(f.a,{size:"sm",variant:"outline-primary",className:"me-1",onClick:h,children:"Avaliar"})})]})}),A=function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:"404 - Not Found!"}),Object(m.jsx)("a",{href:"/",children:"Go Home"})]})};function I(){return Object(m.jsx)(i.a,{children:Object(m.jsxs)(l.c,{children:[Object(m.jsx)(l.a,{path:"/",element:Object(m.jsx)(O,{})}),Object(m.jsx)(l.a,{path:"/schedules",element:Object(m.jsx)(C,{})}),Object(m.jsx)(l.a,{path:"/scheduling",element:Object(m.jsx)(g,{})}),Object(m.jsx)(l.a,{path:"/scheduling/:id",element:Object(m.jsx)(g,{})}),Object(m.jsx)(l.a,{path:"/rating",element:Object(m.jsx)(E,{})}),Object(m.jsx)(l.a,{path:"/rating",element:Object(m.jsx)(E,{})}),Object(m.jsx)(l.a,{element:Object(m.jsx)(A,{})})]})})}var L=function(){return Object(m.jsx)("div",{className:"",children:Object(m.jsx)(I,{})})};a(76);r.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(L,{})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.09d5c903.chunk.js.map